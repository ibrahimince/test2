<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>HTML5 Demo: getUserMedia (Treehouse Blog)</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="notes">

</div>

  <div id="video-container">
    <video id="camera-stream" width="500" autoplay></video>
  </div>
  <script type="text/javascript">
  	window.onload = function() {
    navigator.getUserMedia = (navigator.getUserMedia ||
                            navigator.webkitGetUserMedia ||
                            navigator.mozGetUserMedia || 
                            navigator.msGetUserMedia);
    if (navigator.getUserMedia) {
        navigator.getUserMedia(
        {
          video: true,
          audio: true
        },
        function(localMediaStream) {
          document.getElementById('notes').innerHTML = '<ul><li>You have a camera avaible!</li></ul>'+'<ul><li>You have a microfon avaible!</li></ul>';
          var vid = document.getElementById('camera-stream');
          vid.src = window.URL.createObjectURL(localMediaStream);
        },
        function(err) {
          document.getElementById('notes').innerHTML = '<ul><li>You dont have a camera!</li></ul>';
          alert('The following error occurred when trying to use getUserMedia: ' + err);
        }
        );
    } else {
      alert('Sorry, your browser does not support getUserMedia');
    }
}
</script>
</body>
</html>
